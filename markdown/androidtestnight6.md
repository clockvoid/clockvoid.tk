# Android Test Night #6に行ってきました

<p class="date">2019/03/07</p>

## 一人目:モバイルテスターの世界戦向けトレーニング
テスターはテスト実行者という意味合いに限らない！！！アナリスト，マネージャーも含むことが多い

### Selenium Conf Tokyo
テスト自動化の標準となりつつSeleniumを学ぶ会

国際カンファレンスなので世界中の人達が集まるのがキモ

### モバイルテスターは世界向き？
モバイルアプリの開発は世界の潮流
モバイルなのでテストとの親和性が高い
モバイルテスターは日本より海外での評価が高い

### テスターの資格
ISTQBとかJSTQBとかあるらしい．

JSTQBのJは日本．

Foundation LevelとAdvanced Levelとあるらしい．

モバイルテスターが知らなくてはならないことを体系化している！！！

### アメリカのASTQBが面白い
モバイルテスティングの資格を独自に実施

日本ではやってない．

ざわざアメリカに行くのか？→CBT（コンピュータでやるテスト）なので日本でも受けられる．開催回数も多い

問題文が英語→これは壁になるか？
英語の勉強になるのでいいのではwという説明だったw

テストにもいくつかの駆動方式があるらしい・・・

## 二人目:Azure DevOpsで始めるAndroidのCI/CD
Visual Studio Team Servicesからリブランディング．

アジャイルに必要ないろいろな機能が揃っている．

料金は，OSSなら無料．5ユーザまでなら無料．なお，Visual Studioサブスクライバーなら何人でも無料．編集権限がなければ何人でも無料．

### 始め方
はじめに全部適当にやらず，Advancedを出してプロジェクトの種類を選択できるようにする

1プロジェクトに複数のレポジトリを作成可能（だいぶ珍しい)

PRドリブン開発:GitHubでドラフトでPRを作るみたいな感じで，PR内でとりあえず議論ができる！

Intellij向けのプラグインも存在するVisual Studio Team Servicesという名前になっているw

タスク管理もできる

機能が多すぎて全部使いこなすのは難しいほど

### Code Search
絶対入れる．マーケットプレイスから落として使う

### Pipelines
Visual Designerを使うと，ビルドしたりテストしたりできる．

テンプレートもAndroidほか多数選択可能．
→自動的にPipelineが自動で作成される．

署名とかもできる

作ったビルド成果物はArtifactに置かれ，VMは破棄されるので，Artifactの設定が必要．

以上がビルドに対するパイプライン．

リリースのパイプラインも，Google Playなど，テンプレートが充実．ビルド終わったら自動的にリリースなどできる

Microsoft Hostedなサーバではなく，自分のパソコンでもエージェントを使えばHostedのものと同じようにビルドできるようになる

### 納品
Azure DevOpsで開発して最後クライアントにそのオーナー権限を渡して納品などもされているらしい．

### ミニライブ
今年の1月にやった勉強会で発表されたもの．

動画などもあり，使い方が丁寧に解説されているらしい

## 三人目:Make CI/CD more confortable before/after code test
DroidKaigiのビデオは全部あげ終わったらしい．

### モチベーション
コードテストの前後に注目！

テストは全体の一部分，コードテストも一部分．
この前後についての関心を持っていきたい

### 快適とは
開発を加速させる感じのもの

* 壊れにくい
* 他のステージの開発に役立つもの

### ノンフラジャイルなCIを実現する
ノンフラジャイル:壊れやすくない

失敗に対して柔軟なCI．（つまり失敗はして良い）
何かのタスクが失敗したら全部落ちたり，Lintが落ちたらテストが実行されないなどではあまり良くない

コマンドの終了地を見て，どのような状況になっているのかを知りながらCIを作る

いくつかのコマンドセット群について依存を作成し，独立したコマンドセットをたくさん作る．
それぞれについての役割を考える．そうなってきたとき，他のコマンドの実行を止めていいものを選定する．（アッセンブルは失敗したら全部落としても良い）

gradleには--contineオブションが存在し，失敗しても次は実行するなどできる

Jcenterが500返すなどもあるので，リトライの機構は必ず入れる

Dangerはどんなときでも実行して良い

### ビルドの中間情報の読み出し
並行テストしたときにどのテストが終了したかなど保存しておくことってある．

いくつかのビルド間で共有したい．

ファイル作っちゃう．

一つのPR内でCIのキャッシュは使うべきではない．
HTML履いたりすれば良い

いくつかのPRでChacheを共有するのはとてもむずかしい

### DeployGateの利点
CDNを通したダウンロードのスピードがはやい！！！
→デプロイしたら即curlで叩いておくとCDNにキャッシュされる！！！（ただし有効期限あり）

配布ページが存在！！！
→特定のバージョンをダウンロードできる．featureブランチを分けたり，最新版を分けたりなど．

## 四人目:形式手法について調べてみた
仕様の不備に開発の早い段階で気づきたい！

開発チーム内でも対策は行われていたが，チェックリストを作るなど場当たり的な対応になってしまう．

→テストチームならではの対策方法を行う．

* 記述に不具合がないことを数学的に証明し，保証
* 厳密な定義を与える

などが可能である．

形式仕様記述，モデル検査，定理証明の3の方法を用いる

### モデル検査（今回はモデル検査）
システムを有限この状態を持つモデルで表現し，システムが取りうる状態をすべて網羅的に洗い出す！！！

手順
* 仕様書などから専用言語でモデルを作成
* 検査対象が満たすべき性質から検査式を作成
* ツールにかける

Promeraを使用したりすると，いい感じにやってくれる．

### 形式手法適用のシミュレーション
モデル化するのは企画と実装の間！！！

テストがプログラミングに対するアプローチなら，形式手法は企画に対する手法である

結構いいねボタンを押したときの処理として，ログインしてたらいいねを適用，してなかったら適用しないとかもテストできる．（ゲームじゃなくてもできそう）

表明を常に通らないようにすれば，全パターンを網羅できる（小技）
→このようにすれば，漏れをチェックできる

更に，モデル化する過程でも仕様の漏れはチェックできる．

### メリデメ
メリットは一目瞭然

デメリットは学習コストとか，そもそもモデル化が難しいとか．

→部分的に導入するべき．全部モデル化するのははっきり言って無理らしい．

形式手法にマッチしたものに対してだけ適用する．

状態遷移図がかけそうなものなどは良い．


