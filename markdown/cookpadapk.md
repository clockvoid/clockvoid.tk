# Cookpad.apk #2に行ってきました

## 小山さん
OSバージョンや端末固有の動作の違いは最近では少なくなってきた．
→基本的にはカメラなどのハードウェアに依存する部分に動作の違いが生まれやすい．

### Androidアプリを開発できるとは？
* アーキテクチャ
* テスト
* ドキュメント
    * Issueへのコメントなどでも良い．
* ライフサイクルをきっちり理解する

### 知っておくべきこと
デザインリソースはKyashの記事がとても良い

## Android Things Overview
最近はCookpad Martの冷蔵庫のセンサとかを作ってる人．

### Android Thingsとは
2016年リリース，2018年バージョン1.0

この間（先週の月曜日）に，Googleがいろいろ変わると急に言い出した．

100デバイスまでのお金儲けいないプロダクトのみで使えるように変わった．もう何も残ってない

プロダクションプラットフォームがすべて死んだ

NXP Pico:Android Thingsのスターターキット．Google IOで配布．

### Android Thingsで低温調理機を作る
スロークッカーに温度計をつけて，温度が上がり過ぎたらOFF，下がり過ぎたらON．

Googleがいくつかのセンサのドライバを用意．SensorEventListenerを実装．

スマートプラグ:Webhookを叩くだけでON/OFFできる


## CookpadTVのマルチモジュール
マルチモジュール化の理由:FireTVの開発を加速させたかったから

### FireTV
中身はほぼAndroid

Fire App Builderというフレームワークを使用して開発する．
→これが辛い．認証，通信など，共通化できる部分を再実装にしないと行けない．

しかもフレームワーク側でクラッシュしたりする．まじで糞

共通化したいところを共通化するなど，マルチモジュールでやれば良い．

### やったこと
共有化するモジュールとして，commonモジュールを作り，共通化するものをそこに全部打ち込んだ構成．

新しく実装するものはとりあえずどちらかで作り，両方で欲しくなったら移動．

大きい機能単位で移動できるものは移動．

commonの名前，悪い問題:なんでも使いそうで気持ち悪い
→では，coreにしよう

### まとめ
マルチモジュール化の利点としてのビルド高速化などは意識しないでやらないとどうも変わらないらしい．

